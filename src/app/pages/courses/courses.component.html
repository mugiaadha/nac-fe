<section class="courses-search-hero py-5 mb-4">
  <div class="container">
    <h1 class="fw-bold text-center mb-3 text-white" style="font-size: 2.2rem">
      Ingin pelatihan apa hari ini?
    </h1>
    <div class="d-flex justify-content-center mb-2">
      <div
        class="courses-searchbar-card shadow-lg p-0 w-100"
        style="
          max-width: 600px;
          border-radius: 2.5rem;
          background: rgba(255, 255, 255, 0.85);
          position: relative;
        "
      >
        <input
          type="text"
          class="form-control courses-searchbar px-5"
          placeholder="Ketik kata kunci pelatihan yang ingin kamu cari"
          [(ngModel)]="searchValue"
          (keydown.enter)="onSearch()"
        />
        <button
          class="courses-searchbar-btn"
          type="button"
          (click)="onSearch()"
        >
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
    <div class="text-center text-secondary mb-2 text-white">
      Menampilkan total {{ filteredCourses.length }} pelatihan
    </div>
  </div>
</section>
<div class="courses-section container py-5">
  <h2 class="fw-bold text-dark mb-4">Daftar Kursus Pajak</h2>
  <div class="row g-4">
    <ng-container *ngIf="visibleCourses.length > 0; else skeletonCourses">
      <ng-container *ngFor="let course of visibleCourses">
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100">
            <img
              [src]="course.img"
              class="card-img-top rounded-top-4"
              [alt]="course.alt"
            />
            <div class="card-body">
              <span
                class="badge rounded-pill bg-primary position-absolute courses-badge"
                >{{ course.badge }}</span
              >
              <h5 class="fw-bold mt-2 mb-1">{{ course.title }}</h5>
              <div class="text-secondary mb-2">{{ course.author }}</div>
              <div class="d-flex align-items-center mb-2">
                <span class="me-2 courses-rating">{{ course.rating }}</span>
                <span class="courses-stars">
                  <i class="fas fa-star"></i><i class="fas fa-star"></i>
                  <i class="fas fa-star"></i><i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </span>
                <span class="ms-auto fw-bold">{{ course.price }}</span>
              </div>
              <hr />
              <div class="d-flex justify-content-between text-secondary">
                <span
                  ><i class="fas fa-book-open me-1"></i>
                  {{ course.classes }} kelas</span
                >
                <span
                  ><i class="fas fa-users me-1"></i>
                  {{ course.participants }} peserta</span
                >
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-container>
    <ng-template #skeletonCourses>
      <ng-container *ngFor="let skel of [1, 2, 3, 4, 5, 6, 7, 8]">
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100">
            <div
              class="skeleton-img rounded-top-4 mb-2"
              style="height: 180px; background: #e0e0e0"
            ></div>
            <div class="card-body">
              <div
                class="skeleton-badge mb-2"
                style="
                  width: 80px;
                  height: 20px;
                  background: #e0e0e0;
                  border-radius: 1rem;
                "
              ></div>
              <div
                class="skeleton-title mb-2"
                style="
                  width: 70%;
                  height: 24px;
                  background: #e0e0e0;
                  border-radius: 6px;
                "
              ></div>
              <div
                class="skeleton-author mb-2"
                style="
                  width: 50%;
                  height: 18px;
                  background: #e0e0e0;
                  border-radius: 6px;
                "
              ></div>
              <div class="d-flex align-items-center mb-2">
                <div
                  class="skeleton-rating"
                  style="
                    width: 40px;
                    height: 18px;
                    background: #e0e0e0;
                    border-radius: 6px;
                  "
                ></div>
                <div
                  class="skeleton-stars ms-2"
                  style="
                    width: 60px;
                    height: 18px;
                    background: #e0e0e0;
                    border-radius: 6px;
                  "
                ></div>
                <div
                  class="skeleton-price ms-auto"
                  style="
                    width: 60px;
                    height: 18px;
                    background: #e0e0e0;
                    border-radius: 6px;
                  "
                ></div>
              </div>
              <hr />
              <div class="d-flex justify-content-between text-secondary">
                <div
                  class="skeleton-classes"
                  style="
                    width: 60px;
                    height: 16px;
                    background: #e0e0e0;
                    border-radius: 6px;
                  "
                ></div>
                <div
                  class="skeleton-participants"
                  style="
                    width: 60px;
                    height: 16px;
                    background: #e0e0e0;
                    border-radius: 6px;
                  "
                ></div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-template>
  </div>

  <div class="text-center mt-4">
    <button
      *ngIf="visibleCourses.length < filteredCourses.length"
      (click)="showMore()"
      class="btn btn-gradient btn-lg rounded-pill px-5 d-inline-flex align-items-center gap-2 shadow"
    >
      <span class="fw-semibold">Lihat Lebih Banyak</span>
      <i class="fas fa-arrow-right ms-1"></i>
    </button>
  </div>
</div>
